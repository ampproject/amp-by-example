<!---{
  "preview": "default"
  }--->
<!--
  #### Introduction
  AMP users might want to pull data from an endpoint to display in a carousel. 
-->

<!doctype html>
<html âš¡>
 <head>
   <meta charset="utf-8">
   <link rel="canonical" href="hello-world.html">
   <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
   <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
   <script async src="https://cdn.ampproject.org/v0.js"></script>
   <!-- #### Setup -->
  <!--
    Import `amp-list` to get an array of images from an API.
  -->
  <script async custom-element="amp-list" src="https://cdn.ampproject.org/v0/amp-list-0.1.js"></script>
  <!--
    Import `amp-mustache` to use template syntax and display (dynamically) the images from an API.
  -->
  <script async custom-template="amp-mustache" src="https://cdn.ampproject.org/v0/amp-mustache-0.2.js"></script>
  <!--
    Import `amp-carousel` to place the API's images into a carosuel.
  -->
  <script async custom-element="amp-carousel" src="https://cdn.ampproject.org/v0/amp-carousel-0.1.js"></script>
 </head>
 <body>
    <!-- ## Usage -->
    <!-- Using amp-list with amp-carousel we are able to dynamically fill the carousel with images and content from an API. -->
    <amp-list 
        width="325" height="325" 
        layout="fixed" 
        src="/json/related_products.json" >
        <template type="amp-mustache">
            <amp-carousel id="alternate-images-carousel" width="325" height="325" 
                type="slides" 
                layout="responsive" 
                controls>
                <amp-img 
                    src="https://images-na.ssl-images-amazon.com/images/I/812sFBmqQbL._UX385_.jpg"
                    width="325"
                    height="325"
                    layout="responsive"
                    alt="product image">
                </amp-img>
                {{#items}}
                    <amp-img 
                        src="{{img}}" 
                        layout="responsive" 
                        width="325" height="325" alt="product image -">
                    </amp-img>
                {{/items}}
            </amp-carousel>
        </template>
    </amp-list>
 </body>

 <!-- ## Explanation -->
 <!-- 
    1. We reach out to an API with amp-list.
    2. We use ```<template type="amp-mustache"``` to be able to access to amp-list data.
    3. We use amp-carosuel inside the <template> to indicate we want a carosuel (type="slides").
    OPTIONAL. We define a primary image to always be first in the carousel (usefull for e-commerce and different sku's).
    4. We use {{#altImages}} to indicated within this mustache we want to loop through the array of 'altImages'.
    5. We use {{img}} mustache syntax to add the API's image array into the carosuel.
 -->
</html>